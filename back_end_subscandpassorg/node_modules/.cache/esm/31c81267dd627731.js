let bcrypt,mongoose,Schema;_dd6‍.x([["default",()=>_dd6‍.o]]);_dd6‍.w("bcrypt",[["default",["bcrypt"],function(v){bcrypt=v}]]);_dd6‍.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}],["Schema",["Schema"],function(v){Schema=v}]]);






const userSchema = new Schema({

 name:{
      type: String,
      trim: true,
      required: "Name is required"

    },

    email:{
      type: String, 
      trim: true,
      unique: true
      // required: "Email is required"

    },


    password:{
      type: String, 
      trim: true,
      unique: false,
      min: 6,
      max: 50,
      required: "Password is required"

    }





},{timestamps:true})


userSchema.pre("save",function(next){
  

  let user = this


  if(User.isModified('password')){

    return bcrypt.hash(user.password,12,function(error,hash){

      if(error){
        _dd6‍.g.console.log("THere was a problem with the hasing",error)
      return next();}
      user.password=hash;
      return next();





    })
  } else {
  return next();}




})



_dd6‍.d(mongoose.model("User", userSchema));